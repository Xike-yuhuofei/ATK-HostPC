# 更新日志

本文档记录了工业点胶设备上位机控制软件的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 计划新增
- [ ] 视觉检测模块集成
- [ ] AI质量预测功能
- [ ] 移动端监控APP
- [ ] 云端数据同步
- [ ] MES系统集成接口
- [ ] 多语言国际化支持

### 计划改进
- [ ] 性能优化和内存管理
- [ ] 用户界面美化
- [ ] 帮助文档完善
- [ ] 单元测试覆盖率提升

## [2.0.0] - 2024-01-XX

### 🎉 重大更新
- **项目重新定位**：从通用工业上位机软件专门化为点胶设备控制软件
- **架构升级**：升级到Qt 6.5.0，采用现代C++17标准
- **模块化设计**：完全重构代码架构，实现高度模块化

### ✨ 新增功能

#### 设备控制模块
- 点胶头运动控制（X/Y/Z轴精确定位）
- 点胶参数设置（胶量、速度、压力、温度）
- 运动参数配置（速度、加速度、安全距离）
- 实时状态监控和位置显示
- 紧急停止和安全联锁功能

#### 参数配置管理模块
- 点胶程序导入/导出（JSON格式）
- 可视化轨迹编辑器
- 参数模板管理系统
- 自动参数验证和优化建议
- 批量参数操作功能

#### 过程监控模块
- 实时数据监控（位置、速度、压力、温度、胶量）
- 基于Qt Charts的实时曲线图表
- 历史数据记录和查询
- 报警阈值设置和监控
- 数据导出功能（CSV格式）

#### 生产数据记录模块 🆕
- 生产批次数据自动记录
- 质量检测数据管理
- 报警记录和确认系统
- 统计分析和图表显示
- 多格式报表生成（CSV、Excel、JSON、XML、PDF）
- 数据备份和恢复功能

#### 安全防护与权限管理模块 🆕
- 多级用户权限管理（访客、操作员、技术员、工程师、管理员）
- 用户认证和会话管理
- 操作审计日志记录
- 安全配置管理（密码策略、会话超时、IP白名单）
- 系统监控和安全事件处理
- 数据加密和安全备份

#### 通讯接口扩展模块 🆕
- CAN总线通讯支持
- 多协议统一管理（串口、TCP/IP、CAN、Modbus）
- 设备连接状态监控
- 消息过滤和路由
- 通讯统计和诊断
- 自动重连和故障恢复

### 🔧 改进功能

#### 用户界面
- 全新的标签页布局设计
- 专业的工业风格界面
- 停靠窗口支持（日志、报警、统计、连接）
- 系统托盘集成
- 全屏模式支持
- 工具栏自定义

#### 数据处理
- SQLite数据库集成
- 完整的数据模型设计
- 高效的数据查询和索引
- 数据完整性验证
- 自动数据清理和归档

#### 日志系统
- 分类日志管理（应用、通讯、错误、操作）
- 日志级别控制
- 自动日志轮转
- 实时日志显示
- 日志搜索和过滤

#### 配置管理
- 层次化配置结构
- 配置文件加密
- 配置导入/导出
- 实时配置更新
- 配置版本管理

### 🏗️ 技术改进

#### 构建系统
- 完整的CMake配置
- 跨平台构建支持（Windows、macOS、Linux）
- 自动化构建脚本
- CPack安装包生成
- 依赖管理优化

#### 代码质量
- 现代C++17特性使用
- RAII内存管理
- 异常安全代码
- 线程安全设计
- 代码注释和文档

#### 性能优化
- 多线程并行处理
- 异步I/O操作
- 内存池管理
- 缓存机制优化
- 实时性能监控

### 🐛 修复问题
- 修复串口连接稳定性问题
- 解决内存泄漏问题
- 修复界面响应延迟
- 改进错误处理机制
- 优化资源释放逻辑

### 🔄 变更内容
- 项目名称从"IndustrialHostPC"更改为"IndustrialGlueDispensePC"
- 版本号从1.0.0跳跃到2.0.0，反映重大架构变更
- 配置文件格式升级，支持向后兼容
- 数据库架构重新设计
- API接口标准化

### ⚠️ 破坏性变更
- 配置文件格式变更（提供迁移工具）
- 数据库架构变更（自动升级）
- API接口变更（影响插件开发）
- 最低系统要求提升

### 📋 依赖更新
- Qt框架：5.15.x → 6.5.0+
- CMake：3.10+ → 3.16+
- C++标准：C++14 → C++17
- 新增依赖：Qt6::SerialBus, Qt6::PrintSupport, Qt6::Xml

## [1.0.0] - 2023-12-XX

### ✨ 初始版本功能
- 基础串口通讯功能
- 简单的设备控制界面
- 数据监控和显示
- 基础日志系统
- 配置文件管理
- 协议解析器
- 图表显示组件

### 🏗️ 技术架构
- 基于Qt 5.15框架
- C++14标准
- 模块化设计
- 信号槽机制
- MVC架构模式

### 📋 支持平台
- macOS 10.15+
- Windows 10+
- Ubuntu 18.04+

---

## 版本说明

### 版本号格式
采用语义化版本号：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 更新类型标识
- 🎉 重大更新
- ✨ 新增功能
- 🔧 改进功能
- 🐛 修复问题
- 🔄 变更内容
- ⚠️ 破坏性变更
- 📋 依赖更新
- 🏗️ 技术改进
- 🆕 全新功能

### 支持政策
- **长期支持版本（LTS）**：提供2年技术支持
- **常规版本**：提供6个月技术支持
- **安全更新**：及时发布安全补丁
- **功能更新**：定期发布功能增强

### 升级建议
1. **从1.x升级到2.x**：
   - 备份现有配置和数据
   - 运行数据迁移工具
   - 验证功能完整性
   - 重新配置用户权限

2. **日常更新**：
   - 建议启用自动更新检查
   - 定期查看更新日志
   - 测试环境先行验证

### 反馈渠道
- **问题报告**：support@industrial.com
- **功能建议**：feedback@industrial.com
- **技术支持**：https://support.industrial.com
- **用户社区**：https://community.industrial.com

---

**最后更新**：2024-01-XX  
**维护者**：Industrial Solutions 开发团队 